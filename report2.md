## 3. プログラムの設計と実装

### 3.1 実現した機能
本アプリケーションは，
Lichess（オンラインチェスプラットフォーム）で行われた
自身の対局を分析し，定石から外れた箇所を検出して
定石の学習を支援するアプリケーションである．


#### 3.1.1 基本機能
1. **対局データの取得**: Lichessユーザー名を指定して最新の対局を取得(デフォルトは自分のユーザー名であるdef-e)
2. **プレイヤーカラーの自動検出**: 対局データから白番・黒番を自動判別
3. **定石判定**: 各手が定石か判定
4. **定石外れの検出**: 最初に定石から外れた手を特定
5. **推奨手の表示**: 定石外れ時に正しい定石手を提示
6. **咎められる手表示**: 相手がどう対応すべきかを表示
7. **定石手順の表示**: 対局の定石部分を最大15手まで表示

#### 3.1.2 高度な機能
- **定石範囲外と定石外れの区別**
  - 定石外れ：定石が存在するのに別の手を指した
  - 定石範囲外：その局面に定石が存在しない（100ゲーム以上の手がない）
  

#### 3.1.3 使用方法
```bash
# コンパイル
mvn clean compile

# 実行（ユーザー名を指定）
mvn exec:java -Dexec.mainClass="jp.ac.dendai.App" -Dexec.args="[username]"

# 実行例
mvn exec:java -Dexec.mainClass="jp.ac.dendai.App" -Dexec.args="def-e"
```

#### 3.1.4 前提条件と制約
- インターネット接続が必要（API利用のため）
- 分析対象はLichessの公開対局のみ
- 定石判定は100ゲーム以上を閾値とする
- 最大で最初の15手（チェスの数え方，白番と黒番の手セットで1手）のみを分析対象とする
